<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		  <title>Faculty Class Details Dashboard</title><!-- cdf-bootstrap-script-includes -->		<script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf/js/cdf-bootstrap-script-includes.js?v=4b882a2650d4c63fce58d7802308a537"></script>
<!-- cdf-bootstrap-ie8script-includes --><!--[if lte IE 8]>
		<script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf/js-legacy/lib/html5shiv/html5shiv.js?v=ee68da404bd6cbdab3adb3bf9219c207"></script>
<![endif]-->
<!-- cdf-bootstrap-style-includes -->		<link href="/pentaho/api/repos/pentaho-cdf/css/cdf-bootstrap-style-includes.css?v=8fff571c27b55af6ffd0805ebf6f22b6" rel="stylesheet" type="text/css" />
<!-- bootstrap.css.map --><!-- cdf-bootstrap-ie8scriptAfterLink-includes --><!--[if lte IE 8]>
		<script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf/js-legacy/lib/respond/respond.js?v=c03b5dcc8955c34fa65e59e7e7daacf0"></script>
<![endif]-->
<!-- cdf-cdf-dashboard-script-includes -->
		<script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf/js-legacy/lib/daterangepicker/daterangepicker.jQuery.js?v=9f077778b7bab42c6f5821b32aa3fda8"></script>
		<script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf/js-legacy/lib/sparkline/jquery.sparkline.js?v=c7638b825bc7deb1cf58c990825d35b2"></script>
<!-- cdf-cdf-dashboard-style-includes -->
		<link href="/pentaho/api/repos/pentaho-cdf/js-legacy/lib/daterangepicker/ui.daterangepicker.css?v=52fc5b767447f35ff9b1d41168c3efb2" rel="stylesheet" type="text/css" />
  <script language="javascript" type="text/javascript" src="/pentaho/api/repos/pentaho-cdf-dd/js/CDF.js?v=e752b25601e29d1d54a2bc6cd388b9ef"></script>
  <link href="/pentaho/api/repos/pentaho-cdf-dd/css/CDF-CSS.css?v=f2b55b007fca25c54861edcb0831b7bc" rel="stylesheet" type="text/css" />

<script language="javascript" type="text/javascript">
Dashboards.context = {
  "locale": "en_US",
  "params": {},
  "path": "/public/ascend/dashboards/faculty_class_details.wcdf",
  "queryData": {},
  "roles": [
    "Authenticated",
    "Instructor",
    "SSOUser"
  ],
  "serverLocalDate": 1465881881548,
  "serverUTCDate": 1465896281548,
  "sessionAttributes": {},
  "sessionTimeout": 7200,
  "user": "jcaluyajr"
}
Dashboards.initialStorage = {}

</script>

	</head>
	<body>
		<script language="javascript">
			// Init jQuery i18n plugin
			loadMessageBundles = function(lang) {
				jQuery.i18n.properties({
					name:'messages',
					path:'/pentaho/api/repos/pentaho-cdf-dd/tmp/.cache/public/ascend/dashboards/',
					mode:'both',
					language:(lang == 'browser' ? jQuery.i18n.browserLang() : lang),
					callback: function() {
						
					}
				});
				Dashboards.setI18nSupport('en-US', jQuery.i18n);
			}

			$(document).ready(function(){
				// Initialize jquery.i18n plugin - load message files
				var userLocale = 'en-US';
				var formProvider = cdo.format.language(userLocale);
				cdo.format.language(formProvider);
				moment.locale(userLocale);
				loadMessageBundles(userLocale);
			});
		</script>
	
		
  <div class='container'>
    <script language="javascript" type="text/javascript" src="/pentaho/plugin/pentaho-cdf-dd/api/resources/public/ascend/dashboards/../files/iframeResizer.contentWindow.js?v=1465896281401"></script>
    
    <script language="javascript" type="text/javascript" src="/pentaho/plugin/pentaho-cdf-dd/api/resources/public/ascend/dashboards/../files/ascend.js?v=1465896281401"></script>
    
    <link rel="stylesheet" type="text/css" href="/pentaho/plugin/pentaho-cdf-dd/api/resources/public/ascend/dashboards/../files/ascend.css?v=1465896281401" />
    
    <div id='mainContent'  class='row clearfix ' >
      <div class='col-xs-12 last'><div id='mainColumn' >
        <div id='headerRow'  class='WDheader row clearfix ' >
        </div>
        <div id='nameRoleObj'  class='nameRole row clearfix ' >
        </div>
        <div id='predictRow'  class='row clearfix ' >
          <div class='col-xs-8'><div id='predictColumn'  class='predictColumn ' >
            <div id='predictHeaderRow'  class='row clearfix ' >
              <div class='col-xs-9'><div id='5dbaeb86-31e4-68e3-6ede-646c838f4aca' >
              </div></div>
              <div class='col-xs-2'><div id='feedbackButtonObj'  class='WDhidden ' >
              </div></div>
              <div class='col-xs-1 last'><div id='printButtonObj'  class='print ' >
              </div></div>
            </div>
            <div id='predictTitleRow'  class='row clearfix ' >
              <div class='col-xs-8 average'><div id='predictTitle'  class='facultyTitle ' >
              </div></div>
              <div class='col-xs-1'><div id='25056dbe-5150-1de9-0af5-222c29ba6f01' >
              </div></div>
              <div class='col-xs-2 last'><div id='classSelectorObj'  class='headerSelector classesSelector ' >
              </div></div>
            </div>
            <div id='barLineRow'  class='row clearfix ' >
              <div class='col-xs-12 last'><div id='barLineContainer'  class='barLineContainer ' >
                <div id='barLineTitleRow'  class='row clearfix ' >
                  <div class='col-xs-12 last'><div id='barLineTitleTextObj'  class='classTitle ' >
                  </div></div>
                </div>
                <div id='barLineContainerRow'  class='row clearfix ' >
                  <div class='col-xs-3'><div id='barLineLegendColumn'  class='barLineLegend ' >
                    <div id='barLineLegendRow'  class='row clearfix ' >
                      <div class='col-xs-12 last'><div id='barLineLegendColumnObj'  class='chartLegend ' >
                      </div></div>
                    </div>
                    <div id='barLineDetailsButtonRow'  class='row clearfix ' >
                      <div class='col-xs-12 last'><div id='barLineDetailsButtonObj'  class='chartButton ' >
                      </div></div>
                    </div>
                  </div></div>
                  <div class='col-xs-9'><div id='chartsColumn' >
                    <div id='chartsRow'  class='row clearfix ' >
                      <div class='col-xs-12'><div id='barLineChartColumnObj'  class='ongoingChart ' >
                      </div></div>
                      <div class='col-xs-12 last'><div id='completeBarLineChartColumnObj'  class='completedChart ' >
                      </div></div>
                    </div>
                    <div id='legendRow'  class='row clearfix ' >
                      <div class='col-xs-12 last'><div id='customLegendObj'  class='customLegend ' >
                      </div></div>
                    </div>
                  </div></div>
                  <div class='col-xs-9'><div id='errorMessage'  class='errorMessage chartError WDhidden ' >
                  </div></div>
                  <div class='col-xs-1 last'><div id='barLineUsageColumnObj'  class='usageColumn WDhidden ' >
                  </div></div>
                </div>
              </div></div>
            </div>
            <div id='noteRow'  class='row clearfix ' >
              <div class='col-xs-12 last'><div id='noteColumn'  class='note ' >
                Note: Except for the Comprehensive Predictor, only the scores from each first attempt of a proctored test are included in the predictor.  Other criteria, such as minimum score and percent completed, may also be applied when determining which attempt to include. 
                
              </div></div>
            </div>
            <div id='proctoredTitleRow'  class='row clearfix ' >
              <div class='col-xs-8'><div id='proctoredTitle'  class='detailsTitle ' >
                Pulse: Probability of Passing NCLEX® Details 
                
              </div></div>
              <div class='col-xs-4 last'><div id='detailsSelectorObj'  class='detailsSelector ' >
              </div></div>
            </div>
            <div id='proctoredTableHeader'  class='tableHeader row clearfix ' >
              Class Averages 
              
            </div>
            <div id='proctoredTableRow'  class='row clearfix ' >
              <div class='col-xs-12'><div id='protoredTableObj'  class='proctoredDetailsTable testTable ' >
              </div></div>
              <div class='col-xs-12 last'><div id='studentsTableObj'  class='proctoredTable studentTable WDhidden ' >
              </div></div>
            </div>
            <div id='footer'  class='row clearfix ' >
              <div class='col-xs-12 last'><div id='footerObj'  class='footer ' >
              </div></div>
            </div>
          </div></div>
          <div class='col-xs-4 last'><div id='infoColumn'  class='infoColumn ' >
            <div id='infoRow'  class='WDhidden row clearfix ' >
              <div class='col-xs-1'><div id='imageColumn'  class='iconInfo ' >
              </div></div>
              <div class='col-xs-10 last'><div id='textColumn' >
                <div id='averageHeaderText'  class='title row clearfix ' >
                  <b>Average Probability of Passing NCLEX®</b> 
                  
                </div>
                <div id='likelihoodText1'  class='topMargin row clearfix ' >
                  Based on the current progress and performance on proctored assessments of students in this class, ATI has predicted the class's average likelihood of passing the NCLEX® upon completion of the nursing program. 
                  
                </div>
                <div id='likelihoodText2'  class='topMargin row clearfix ' >
                  The predicted pass rate assumes the remaining assessment scores will be similar to the current performance. 
                  
                </div>
                <div id='likelihoodText3'  class='topMargin row clearfix ' >
                  The predicted pass rate will become more accurate as more proctored assessments are completed. 
                  
                </div>
                <div id='likelihoodText4'  class='topMargin row clearfix ' >
                  Please note that results include only active cohorts for which student success scores are available. 
                  
                </div>
              </div></div>
            </div>
          </div></div>
        </div>
      </div></div>
    </div>
    <div id='hiddenElements'  class='WDhidden row clearfix ' >
      <div class='col-xs-6'><div id='titlePopupColumnObj'  class='titlePopup ' >
        <div id='titlePopupRowTile'  class='popupTitle row clearfix ' >
          Average Probability of Passing NCLEX® 
          
        </div>
        <div id='titlePopupRowText'  class='popupText row clearfix ' >
          Based on the current progress and performance on proctored assessments of students in this class, ATI has predicted the class's average Probability of passing the NCLEX® upon completion of the nursing program. 
          
        </div>
        <div id='titlePopupRowText1'  class='popupText topMargin row clearfix ' >
          The predicted pass rate assumes the remaining assessment scores will be similar to the current performance. 
          
        </div>
        <div id='titlePopupRowText2'  class='popupText topMargin row clearfix ' >
          The predicted pass rate will become more accurate as more proctored assessments are completed. 
          
        </div>
        <div id='titlePopupRowText3'  class='popupText topMargin row clearfix ' >
          Please note that results include only active cohorts for which student success scores are available. 
          
        </div>
      </div></div>
      <div class='col-xs-1'><div id='titlePopupObj'  class='titlePopup ' >
      </div></div>
      <div class='col-xs-6'><div id='commentsColumn'  class='feedback ' >
        <div id='titleRow'  class='studentsTitle row clearfix ' >
          <div class='col-xs-10'><div id='feedbackTitle' >
            Feedback 
            
          </div></div>
          <div class='col-xs-2 last'><div id='saveButtonObj' >
          </div></div>
        </div>
        <div id='feedbackRow'  class='row clearfix ' >
          <div class='col-xs-12 last'><div id='feedbackObj'  class='feedback ' >
          </div></div>
        </div>
      </div></div>
      <div class='col-xs-12'><div id='emptyPopupObj' >
        Please insert feedback. 
        
      </div></div>
      <div class='col-xs-12'><div id='sendOkPopupObj' >
        Thank you for your feedback. 
        
      </div></div>
      <div class='col-xs-12'><div id='sendNotOkPopupObj' >
        Please send again your feedback. 
        
      </div></div>
      <div class='col-xs-12'><div id='nationalPassRatePopupObj'  class='titlePopup ' >
        <div id='nationalPassRateRowTitle'  class='popupTitle row clearfix ' >
          National Average NCLEX® Pass Rate 
 
          
        </div>
        <div id='nationalPassRateRowText'  class='popupText row clearfix ' >
          Most recently published National NCLEX® Pass Rate for this program type as provided by National<br>
Council of State Boards of Nursing (NCSBN). 
          
        </div>
      </div></div>
      <div class='col-xs-12'><div id='institutionPassRatePopupObj'  class='titlePopup ' >
        <div id='institutionPassRateRowTitle'  class='popupTitle row clearfix ' >
          Institution Average NCLEX® Pass Rate 
 
          
        </div>
        <div id='instituionPassRateRowText'  class='popupText row clearfix ' >
          Most recently published NCLEX® Pass Rate for this institution as reported by the state Board of Nursing. 
          
        </div>
      </div></div>
      <div class='col-xs-12'><div id='barLineDetailsPopupObj'  class='titlePopup ' >
        <div id='barLineDetailsRowTitle'  class='popupTitle row clearfix ' >
          Average Probability of Passing NCLEX® Chart 
          
        </div>
        <div id='barLineDetailsRowText'  class='popupText row clearfix ' >
          The chart provides the class’s average current and historical probability of passing the NCLEX® on the first attempt.<br>
This chart does not indicate current NCLEX® readiness, but is instead an indicator of how the class’s current<br>
academic performance is predictive of later NCLEX® success.<br>
<br>
Within a content area, the chart shows class average proctored assessment scores broken down by NCLEX® test plan<br>
(i.e., NCLEX® RN 2013).If the class took assessments associated with multiple test plans, this will be indicated with footnotes.<br>
The table below the chart can be used to understand the results by test plan.

 
          
        </div>
      </div></div>
      <div class='col-xs-2'><div id='termsPopupObj'  class='titlePopup ' >
        <div id='termsTitle'  class='popupTitle row clearfix ' >
          <span  class='studentPopup studentPopup ' >ATI’S PULSE PRODUCT 
          </span>
        </div>
        <div id='termsText'  class='popupText row clearfix ' >
        </div>
      </div></div>
      <div class='col-xs-12 last'><div id='chartPopUpObj'  class='barPopUp ' >
      </div></div>
    </div>
    <div id='Version1.01'  class='WDhidden row clearfix ' >
    </div>
  </div>
<script language="javascript" type="text/javascript">
wcdfSettings = {
  "title": "Faculty Class Details Dashboard",
  "author": "",
  "description": "Faculty Class Details Dashboard",
  "style": "Clean",
  "widgetName": "",
  "widget": false,
  "rendererType": "bootstrap",
  "require": false,
  "widgetParameters": []
};

Dashboards.addParameter("studentExistParam", "False");
Dashboards.setParameterViewMode("studentExistParam", "unused");

Dashboards.addParameter("institutionIDParam", "");
Dashboards.setBookmarkable("institutionIDParam");
Dashboards.setParameterViewMode("institutionIDParam", "unused");

Dashboards.addParameter("classIDParam", "");
Dashboards.setBookmarkable("classIDParam");
Dashboards.setParameterViewMode("classIDParam", "unused");

Dashboards.addParameter("gradYearParam", "");
Dashboards.setBookmarkable("gradYearParam");
Dashboards.setParameterViewMode("gradYearParam", "unused");

Dashboards.addParameter("currentGradYearParam", "");
Dashboards.setBookmarkable("currentGradYearParam");
Dashboards.setParameterViewMode("currentGradYearParam", "unused");

Dashboards.addParameter("programTypeParam", "");
Dashboards.setParameterViewMode("programTypeParam", "unused");

Dashboards.addParameter("zeroParam", "");
Dashboards.setParameterViewMode("zeroParam", "unused");

Dashboards.addParameter("totalScoresParam", "");
Dashboards.setParameterViewMode("totalScoresParam", "unused");

Dashboards.addParameter("avgsParam", "");
Dashboards.setParameterViewMode("avgsParam", "unused");

Dashboards.addParameter("errorLineParam", "");
Dashboards.setParameterViewMode("errorLineParam", "unused");

Dashboards.addParameter("finalResultParam", "");
Dashboards.setParameterViewMode("finalResultParam", "unused");

Dashboards.addParameter("detailsParam", "");
Dashboards.setParameterViewMode("detailsParam", "unused");

Dashboards.addParameter("classParam", "");
Dashboards.setParameterViewMode("classParam", "unused");

Dashboards.addParameter("feedbackParam", "");
Dashboards.setParameterViewMode("feedbackParam", "unused");

Dashboards.addParameter("userParam", "");
Dashboards.setParameterViewMode("userParam", "unused");

Dashboards.addParameter("dateParam", "");
Dashboards.setParameterViewMode("dateParam", "unused");

Dashboards.addParameter("browserParam", "");
Dashboards.setParameterViewMode("browserParam", "unused");

Dashboards.addParameter("versionParam", "");
Dashboards.setParameterViewMode("versionParam", "unused");

Dashboards.addParameter("commentParam", "");
Dashboards.setParameterViewMode("commentParam", "unused");

Dashboards.addParameter("dashboardParam", "Faculty Class Details");
Dashboards.setParameterViewMode("dashboardParam", "unused");

var render_dateRange_dummy = {
  type: "DateRangeInput",
  name: "render_dateRange_dummy",
  priority: 5,
  parameter: [],
  listeners: [],
  singleInput: true,
  inputSeparator: ">",
  canClickOutsidePopup: false,
  earliestDate: "-1years",
  latestDate: "+1years",
  leftOffset: 0,
  topOffset: 15,
  executeAtStart: false
};

var render_classSelector = {
  type: "Select",
  name: "render_classSelector",
  priority: 0,
  parameter: "classIDParam",
  htmlObject: "classSelectorObj",
  listeners: [],
  parameters: [["institutionIDParam","institutionIDParam"],["gradYearParam","gradYearParam"],["currentGradYearParam","currentGradYearParam"]],
  valuesArray: [],
  valueAsId: false,
  externalPlugin: "chosen",
  executeAtStart: true,
  extraOptions: [],
  queryDefinition:  {
    dataAccessId: "classSelectorQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_detailsSelector = {
  type: "Select",
  name: "render_detailsSelector",
  priority: 5,
  parameter: "detailsParam",
  htmlObject: "detailsSelectorObj",
  listeners: [],
  parameters: [],
  valuesArray: [["0","Proctored Test Details"],["1","Students"]],
  valueAsId: true,
  externalPlugin: "chosen",
  executeAtStart: true,
  postChange: function f(){
    var value = Dashboards.getParameterValue("detailsParam");
    if ( value == "Proctored Test Details" ){
        $(".tableHeader").removeClass('WDhidden');
        $(".testTable").removeClass('WDhidden');
        $(".studentTable").addClass('WDhidden');
    }else if ( value == "Students" ){
        $(".tableHeader").addClass('WDhidden');
        $(".testTable").addClass('WDhidden');
        $(".studentTable").removeClass('WDhidden');
    }
},
  extraOptions: [],
  queryDefinition:  {

  }
};

var render_feedbackText = {
  type: "textInput",
  name: "render_feedbackText",
  priority: 5,
  parameter: "feedbackParam",
  listeners: [],
  htmlObject: "feedbackObj",
  executeAtStart: true
};

var render_nameSessionVarQueryComponent = {
  type: "Query",
  name: "render_nameSessionVarQueryComponent",
  priority: 0,
  parameters: [],
  executeAtStart: true,
  listeners: [],
  asynchronousMode: true,
  postFetch: function f(data){
    var result = data.resultset;
    
    Dashboards.setParameter("roleParam", result[0][1]);
    Dashboards.setParameter("userIDParam", result[1][1]);
        
    return data;
} ,
  queryDefinition:  {
    dataAccessId: "nameSessionVariables",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_studentNameQueryComponent = {
  type: "Query",
  name: "render_studentNameQueryComponent",
  priority: 1,
  parameters: [],
  executeAtStart: true,
  listeners: [],
  asynchronousMode: true,
  postFetch: function f(data){
    var result = data.resultset;
    
    Dashboards.setParameter("nameParam", result[0][0]);
        
    return data;
} ,
  queryDefinition:  {
    dataAccessId: "studentNameQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_nameRoleHeader = {
  type: "textComponent",
  name: "render_nameRoleHeader",
  priority: 2,
  expression: function f(){
    var ph = $('#nameRoleObj');
    
    var $welcome = $("<div class='welcomeRole'>Welcome</div>").appendTo(ph);
    var $name =$("<div class='textRole'></div>").appendTo(ph);
    $name.text ( nameParam.split(',').slice(-1) + (" ") + nameParam.split(',').slice(0,-1) + (" (") + roleParam + ("). "));
    var $text =$("<div class='textRole1'></div>").appendTo(ph);
    if ( nameParam.split(',').length == 1 ){
        $text.text ("If you are not " + nameParam + (", click"));
    }else{
        $text.text ("If you are not " + nameParam.split(',').slice(-1) + " " + nameParam.split(',').slice(0,-1) + (", click"));
    }
    
      var MyEnv = ascend.whichEnvironmentText;
      
   /* var $here =$("<div> <a class='hereRole' href='http://www.atitesting.com/ati_next_gen/Logout.aspx'> here </a> </div>").appendTo(ph);  */
     var $here =$("<div> <a class='hereRole' href='https://" + MyEnv  + ".atitesting.com/pentaho/Logout'> here </a> </div>").appendTo(ph); 
/*    var $here =$("<div> <a class='hereRole' href='"+webAppPath+"/Logout'> here </a> </div>").appendTo(ph); */
} ,
  htmlObject: "nameRoleObj",
  listeners: [],
  executeAtStart: true
};

var render_feedbackPopupButton = {
  type: "buttonComponent",
  name: "render_feedbackPopupButton",
  priority: 5,
  label: "Feedback",
  htmlObject: "feedbackButtonObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    render_feedbackPopup.popup($('.WDheader'));
},
  actionDefinition:  {

  }
};

var render_feedbackPopup = {
  type: "popup",
  name: "render_feedbackPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "commentsColumn",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_saveButtonComponent = {
  type: "buttonComponent",
  name: "render_saveButtonComponent",
  priority: 5,
  label: "Save",
  htmlObject: "saveButtonObj",
  buttonStyle: "classic",
  executeAtStart: true,
  listeners: [],
  actionParameters: [["userParam","userParam"],["dateParam","dateParam"],["browserParam","browserParam"],["versionParam","versionParam"],["commentParam","commentParam"],["dashboardParam","dashboardParam"]],
  expression: function f(){
    if ( feedbackParam === "" ){
        render_emptyFeedbackPopup.popup($('.feedback input'));
    }else{
        Dashboards.setParameter('userParam', Dashboards.context.user );
        Dashboards.setParameter('dateParam', new Date().toString('yyyy-MM-dd HH:mm:ss.sss') );
        Dashboards.setParameter('browserParam', navigator.sayswho.split(' ')[0] );
        Dashboards.setParameter('versionParam', navigator.sayswho.split(' ')[1] );
        Dashboards.setParameter('commentParam', Dashboards.getParameterValue('feedbackParam') );
        render_sendOkPopup.popup($('.feedback input'));
    }
    feedbackParam = "";
    render_feedbackText.update();
    //this.block();
},
  actionDefinition:  {
    dataAccessId: "sendCommentQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_emptyFeedbackPopup = {
  type: "popup",
  name: "render_emptyFeedbackPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "emptyPopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_sendOkPopup = {
  type: "popup",
  name: "render_sendOkPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "sendOkPopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_sendNotOkPopup = {
  type: "popup",
  name: "render_sendNotOkPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "sendNotOkPopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_printButton = {
  type: "buttonComponent",
  name: "render_printButton",
  priority: 5,
  label: "Print",
  htmlObject: "printButtonObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    window.print();
}
,
  actionDefinition:  {

  }
};

var render_averageTitleQueryComponent = {
  type: "Query",
  name: "render_averageTitleQueryComponent",
  priority: 1,
  parameters: [["institutionIDParam","institutionIDParam"]],
  resultvar: "programTypeParam",
  executeAtStart: true,
  listeners: [],
  asynchronousMode: true,
  postFetch: function f(data){
    $('.ongoingChart').addClass('WDhidden');
    $('.completedChart').addClass('WDhidden');
    $('.errorMessage').addClass('WDhidden');
    
    var result = data.resultset;
    if ( result.length !== 0 ){
        
        var lastRow = result.length - 1;
        
        //Test if there is value for Institution AVG and hide legend if not,
        //store avg values in avgsParam
        var avgs = [];
        if ( result[0][2] === false ){
            $('.program').addClass('WDhidden');
            avgs = [ [ result[0][1], 0 ] ];
        }else{
            $('.program').removeClass('WDhidden');
            avgs = [ [ result[0][1], result[0][3] ] ];
        }
        Dashboards.setParameter('avgsParam', avgs);
        
        //Look up for the lowest score to define the y axis min value
        var min = 100;
        for ( var i = 0; i < lastRow; i++ ){
            for ( var j = 6; j < 8; j++){
                var score = result[i][j];
                if ( score < min ) min = score;
            }
        }
        if ( min > 50 ) min = 50;
        Dashboards.setParameter('zeroParam', Math.floor(min/10)*10);
        
        //Test if we have Comprehensive Predictor and choose chart to show accordingly
        if ( result[lastRow][8] ){
            $('.ongoingChart').addClass('WDhidden');
            $('.completedChart').removeClass('WDhidden');
            Dashboards.setParameter('finalResultParam', result[lastRow][7]);
            render_completeBarLineChart.update();
        }else{
            $('.ongoingChart').removeClass('WDhidden');
            $('.completedChart').addClass('WDhidden');
            Dashboards.setParameter('finalResultParam', 0);
          } render_predictBarLineChart.update();
    }else{
        $('.errorMessage').removeClass('WDhidden');
        $('.errorMessage').text("No results available");
    }   
},
  queryDefinition:  {
    dataAccessId: "programTypeQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_averageTitle = {
  type: "textComponent",
  name: "render_averageTitle",
  priority: 5,
  expression: function f(){
    if (programTypeParam ==3){
        type = "-PN";
    }else{
        type = "-RN";
    }
    return "Pulse: Probability of Passing NCLEX" + type + "®";     
} ,
  htmlObject: "predictTitle",
  listeners: [],
  executeAtStart: true,
  postExecution:  function f(){
    var a = $("#"+this.htmlObject);
    a.addClass('title2Popup');
    $('#titlePopupObj button').appendTo(a);   
}
};

var render_titlePopupButton = {
  type: "buttonComponent",
  name: "render_titlePopupButton",
  priority: 4,
  label: "i",
  htmlObject: "titlePopupObj",
  buttonStyle: "classic",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    render_titlePopup.popup($('#predictTitle'));
},
  actionDefinition:  {

  }
};

var render_titlePopup = {
  type: "popup",
  name: "render_titlePopup",
  priority: 4,
  executeAtStart: true,
  htmlObject: "titlePopupColumnObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_barLineTitleTextComponent = {
  type: "textComponent",
  name: "render_barLineTitleTextComponent",
  priority: 5,
  expression: function f(){
    return "Class " + $('.classesSelector .chzn-single').text();
},
  htmlObject: "barLineTitleTextObj",
  listeners: ['classIDParam'],
  executeAtStart: true
};

var render_barLineLegendFreeform = {
  type: "freeform",
  name: "render_barLineLegendFreeform",
  priority: 0,
  parameters: [],
  manageCallee: true,
  executeAtStart: true,
  customfunction: function f(){
    
    var ph = $('#barLineLegendColumnObj');
    var $spacer = $("<div class='spacer'>&nbsp;</div>").appendTo(ph);
    
    var $externalHolder = $("<div class='external'>&nbsp;</div>").appendTo(ph);
    var $barHolder = $("<div class='bar'>&nbsp;</div>").appendTo($externalHolder);
    var $barFill = $("<div class='barFill proctored'>&nbsp;</div>").appendTo($barHolder);
    var $legendHolder = $("<div class='legend'>PROCTORED TEST SCORE</div>").appendTo($externalHolder);
    
    $externalHolder = $("<div class='external'>&nbsp;</div>").appendTo(ph);
    $barHolder = $("<div class='bar'>&nbsp;</div>").appendTo($externalHolder);
    $barFill = $("<div class='barFill likelihood'>&nbsp;</div>").appendTo($barHolder);
    $legendHolder = $("<div class='legend'>AVERAGE PROBABILITY OF PASSING NCLEX®</div>").appendTo($externalHolder);
    
    $externalHolder = $("<div class='external'>&nbsp;</div>").appendTo(ph);
    $barHolder = $("<div class='bar'>&nbsp;</div>").appendTo($externalHolder);
    $barFill = $("<div class='barFill national'>&nbsp;</div>").appendTo($barHolder);
    $legendHolder = $("<div id='nationalObj' class='legend national' </div>").appendTo($externalHolder);
    
    $externalHolder = $("<div class='external'>&nbsp;</div>").appendTo(ph);
    $barHolder = $("<div class='bar'>&nbsp;</div>").appendTo($externalHolder);
    $barFill = $("<div class='barFill program'>&nbsp;</div>").appendTo($barHolder);
    $legendHolder = $("<div id='programObj' class='legend program' </div>").appendTo($externalHolder);
},
  listeners: [],
  queryDefinition:  {

  }
};

var render_errorLineQueryComponent = {
  type: "Query",
  name: "render_errorLineQueryComponent",
  priority: 0,
  parameters: [],
  resultvar: "errorLineParam",
  executeAtStart: true,
  listeners: [],
  asynchronousMode: true,
  queryDefinition:  {
    dataAccessId: "_errorLineQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_totalScoresQueryComponent = {
  type: "Query",
  name: "render_totalScoresQueryComponent",
  priority: 1,
  parameters: [["institutionIDParam","institutionIDParam"],["classIDParam","classIDParam"]],
  resultvar: "totalScoresParam",
  executeAtStart: true,
  listeners: ['classIDParam'],
  asynchronousMode: true,
  postFetch: function f(data){
    $('.ongoingChart').addClass('WDhidden');
    $('.completedChart').addClass('WDhidden');
    $('.errorMessage').addClass('WDhidden');
    
    var result = data.resultset,
        length = result.length;
    if ( length !== 0 ){
        
        //Test if there is value for Institution AVG and hide legend if not,
        //store avg values in avgsParam
        var avgs = [];
        if ( result[0][3] === false ){
            $('.program').addClass('WDhidden');
            avgs = [ [ result[0][2], 200 ] ];
        }else{
            $('.program').removeClass('WDhidden');
            avgs = [ [ result[0][2], result[0][4] ] ];
        }
        Dashboards.setParameter('avgsParam', avgs);
        
        //Look up for the lowest score to define the y axis min value
        var min = 100, score = "";
        for ( var i = 0; i < length; i++ ){
            if ( i != length - 1 ){
                for ( var j = 7; j < 9; j++){
                    score = result[i][j];
                    if ( score !== null & score < min ) min = score;
                }
            }else{
                score = result[i][8];
                if ( score !== null & score < min ) min = score;
            }
        }
        if ( min > 54 ){
            min = 50;
        }else min = min - 5;
        if ( min < 0 ) min = 0;
        Dashboards.setParameter('zeroParam', Math.floor((min)/10)*10);
        if ( zeroParam == 10 ) zeroParam = 0;
        avgs[0][0] = avgs[0][0] + zeroParam;
        avgs[0][1] = avgs[0][1] + zeroParam;
        
        //Test if we have Comprehensive Predictor and choose chart to show accordingly
        var finalScore = false;
        for ( i = 0; i < result.length; i++ ){
            if ( result[i][9] ){
                finalScore = result[i][9];
            }
        }
        if ( finalScore ){
            $('.ongoingChart').addClass('WDhidden');
            $('.completedChart').removeClass('WDhidden');
            Dashboards.setParameter('finalResultParam', result[length-1][8] + zeroParam);
            render_completeBarLineChart.update();
        }else{
            $('.ongoingChart').removeClass('WDhidden');
            $('.completedChart').addClass('WDhidden');
            Dashboards.setParameter('finalResultParam', 0);
            render_predictBarLineChart.update();
        }
    }else{
        $('.program').addClass('WDhidden');
        $('.errorMessage').removeClass('WDhidden');
        $('.errorMessage').text("No results available");
    }   
} ,
  queryDefinition:  {
    dataAccessId: "totalScoresQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda"
  }
};

var render_customLegendFreeformComponent = {
  type: "freeform",
  name: "render_customLegendFreeformComponent",
  priority: 6,
  parameters: [],
  manageCallee: true,
  executeAtStart: true,
  customfunction: function f(){
    var result = Dashboards.getParameterValue('totalScoresParam'),
        length = result.length;
    
    var $ph = $("#"+this.htmlObject).empty(),
        //totalWidth = $ph.width();
        totalWidth = 400;
    
    var legendWidth = Math.floor( totalWidth / length );
    
    for ( var i = 0; i < length; i++ ){
        var place = legendWidth / 2 + legendWidth * i;
        var $legendHolder = $("<div class='legend' style='left: "+place+"px'>&nbsp;</div>").appendTo($ph);
        
        $legendHolder.text(result[i][1]);
    }
    
} ,
  htmlObject: "customLegendObj",
  listeners: ['classIDParam'],
  queryDefinition:  {

  }
};

var render_nationalPassRateButton = {
  type: "buttonComponent",
  name: "render_nationalPassRateButton",
  priority: 5,
  label: "NATIONAL AVERAGE NCLEX® PASS RATE",
  htmlObject: "nationalObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    render_nationalPassRatePopup.popup($('#nationalObj'));
},
  actionDefinition:  {

  }
};

var render_nationalPassRatePopup = {
  type: "popup",
  name: "render_nationalPassRatePopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "nationalPassRatePopupObj",
  gravity: "S",
  draggable: true,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_institutionPassRateButton = {
  type: "buttonComponent",
  name: "render_institutionPassRateButton",
  priority: 5,
  label: "INSTITUTION AVERAGE NCLEX® PASS RATE",
  htmlObject: "programObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    render_institutionPassRatePopup.popup($('#programObj'));
},
  actionDefinition:  {

  }
};

var render_institutionPassRatePopup = {
  type: "popup",
  name: "render_institutionPassRatePopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "institutionPassRatePopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_barLineDetailsButton = {
  type: "buttonComponent",
  name: "render_barLineDetailsButton",
  priority: 5,
  label: "Explain this chart",
  htmlObject: "barLineDetailsButtonObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    if ( $("#errorMessage").hasClass('WDhidden') ){
        render_barLineDetailsPopup.popup($('#chartsColumn'));
    }else{
        render_barLineDetailsPopup.popup($("#errorMessage"));
    }
} ,
  actionDefinition:  {

  }
};

var render_barLineDetailsPopup = {
  type: "popup",
  name: "render_barLineDetailsPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "barLineDetailsPopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_usageButton = {
  type: "buttonComponent",
  name: "render_usageButton",
  priority: 5,
  label: "Show Usage",
  htmlObject: "barLineUsageColumnObj",
  buttonStyle: "classic",
  executeAtStart: false,
  listeners: [],
  actionParameters: [],
  actionDefinition:  {

  }
};

var render_proctoredTable = {
  type: "Table",
  name: "render_proctoredTable",
  priority: 5,
  htmlObject: "protoredTableObj",
  listeners: ['classIDParam','institutionIDParam'],
  parameters: [["institutionIDParam","institutionIDParam"],["classIDParam","classIDParam"]],
  executeAtStart: true,
  postFetch: function f(data){
    var result = data.resultset,
        length = result.length;
    for (var i = 0; i < length; i++){
        for ( var j = 1; j < 4; j++){
            if (!isNaN(result[i][j])){
                result[i][j] = parseFloat(Math.round(result[i][j]*10)/10)+ "%";
            }
        }
    }
    data.resultset = result;
    return data;
}


 ,
  extraOptions: [],
  expandParameters: [],
  expandOnClick: false,
  chartDefinition:  {
    dataAccessId: "proctoredTableQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda",
    colHeaders: ["Test","Proctored<br>Test Score","National<br>Mean","Program<br>Mean"],
    colTypes: ["formattedText","numeric","formattedText","formattedText"],
    colFormats: ["%s","%s","%s","%s"],
    colWidths: [],
    colSortable: [],
    colSearchable: [],
    paginate: false,
    paginateServerside: false,
    paginationType: "two_button",
    filter: false,
    info: false,
    sort: false,
    sortBy: [],
    lengthChange: false,
    tableStyle: "classic"
  }
};

var render_studentTable = {
  type: "Table",
  name: "render_studentTable",
  priority: 5,
  htmlObject: "studentsTableObj",
  listeners: ['classIDParam'],
  parameters: [["institutionIDParam","institutionIDParam"],["classIDParam","classIDParam"]],
  executeAtStart: true,
  postFetch: function f(data){
    //Remove Null
    var result = data.resultset,
    length = result.length;
        
    for ( var i = 0; i < length; i++ ){
        if (!isNaN(result[i][2])){
            result[i][2] = parseFloat(Math.round(result[i][2]*100)/100)+"%";
        }
        if ( result[i][4] !== null ){
            result[i][4] = parseFloat(Math.round(result[i][4]*100)/100);
        }
    }
    return data;
}
    ,
  preExecution: function f(){
    this.setAddInOptions("colType","dialChart", function(){
        
        return {
            textFormat: function(v,st) {
            return v;
            }
        };
    });    
    
} ,
  postExecution: function f(){
   
   $("#"+this.htmlObject).find('th.column4').removeClass("dialChart");

} ,
  extraOptions: [],
  expandParameters: [],
  expandOnClick: false,
  chartDefinition:  {
    dataAccessId: "studentsTableQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda",
    clickAction: function f(a){
    var studentIDParam = a.rawData.resultset[a.rowIdx][5],
        bookmark = '{"impl"%3A"client"%2C"params"%3A {"institutionIDParam"%3A+' + '"' + institutionIDParam + '"' + '+%2C"classIDParam"%3A+' + '"' + classIDParam + '"' + '+%2C"studentIDParam"%3A+' + '"' + studentIDParam + '"' + '}}';
    if ( a.colIdx === 0 ){
        window.open(webAppPath+"/api/repos/:public:ascend:dashboards:student_drilldown.wcdf/generatedContent?"+'bookmarkState='+ bookmark,"_self");
    } else if ( a.colIdx === 4 ){
        if ( a.value === null ){
            return;
        } else {
            window.open(webAppPath+"/api/repos/:public:ascend:dashboards:usage.wcdf/generatedContent?"+'bookmarkState='+ bookmark,"_self");
        }
    }
} ,
    colHeaders: ["Student","Status","Probability of<br>Passing NCLEX","Trending","Student Usage"],
    colTypes: ["formattedText","formattedText","formattedText","trendArrow","dialChart"],
    colFormats: [],
    colWidths: [],
    colSortable: [],
    colSearchable: [],
    paginate: true,
    paginateServerside: false,
    paginationType: "two_button",
    filter: false,
    info: true,
    sort: false,
    sortBy: [],
    lengthChange: false,
    tableStyle: "classic"
  }
};

var render_termsButton = {
  type: "buttonComponent",
  name: "render_termsButton",
  priority: 5,
  label: "User terms and conditions",
  htmlObject: "footerObj",
  buttonStyle: "themeroller",
  executeAtStart: true,
  listeners: [],
  actionParameters: [],
  expression: function f(){
    render_termsPopup.popup($('#footerObj'));
}
,
  actionDefinition:  {

  }
};

var render_termsPopup = {
  type: "popup",
  name: "render_termsPopup",
  priority: 5,
  executeAtStart: true,
  htmlObject: "termsPopupObj",
  gravity: "S",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_termsText = {
  type: "textComponent",
  name: "render_termsText",
  priority: 5,
  expression: function (){
    return ascend.termsText;
    },
  htmlObject: "termsText",
  listeners: [],
  executeAtStart: true
};

var render_barPopupComponent = {
  type: "popup",
  name: "render_barPopupComponent",
  priority: 5,
  executeAtStart: true,
  htmlObject: "chartPopUpObj",
  gravity: "N",
  draggable: false,
  closeOnClickOutside: true,
  parameters: [],
  listeners: [],
  horizontalScroll: false,
  verticalScroll: false
};

var render_predictBarLineChart = {
  type: "cccBarChart",
  name: "render_predictBarLineChart",
  priority: 5,
  parameters: [["institutionIDParam","institutionIDParam"],["classIDParam","classIDParam"]],
  executeAtStart: false,
  postFetch: function f(data){
    
    var result = data.resultset;
    var length = result.length;
    var nat_avg = [], prog_avg = [];
    
    for ( var i = 0; i < length; i++ ) {
        var avgs = result[i].splice(3, 2);
        prog_avg[i] = avgs[1];
        nat_avg[i]  = avgs[0];
    }
    
    i = i - 1;
    result[i][3] = result[i][3] - result[i][4];
    result[i][4] = result[i][4] - result[i][5];
    
    var metadata = data.metadata;
    metadata.splice(3, 2);
    
    for ( i = 0; i < length; i++ ){
        for ( var j = 1; j < result[i].length; j++ ){
            if ( result[i][j] !== null && j < 3){
                result[i][j] = Math.round(result[i][j]); //- Dashboards.getParameterValue('zeroParam'));
            }else{
                if ( result[i][j] !== null && result[i][j] > Dashboards.getParameterValue('zeroParam') - 1 ){
                    result[i][j] = Math.round(result[i][j]); //- Dashboards.getParameterValue('zeroParam'));
                }
            }
        }
    }
    
    return data;
} ,
  htmlObject: "barLineChartColumnObj",
  preExecution: function f(){
    pvc.PercentValue.parse.apply(); //apply patch to bug CDF-354
    this.chartDefinition.orthoAxisFixedMin = zeroParam;
    ascend.defaultExtPoints.apply(this);
    ascend.predictorExtPoints.apply(this);
    ascend.completeExtPoints.apply(this);
    ascend.avgsBar.apply(this);
    //ascend.errorLine.apply(this);
    ascend.hideValues.apply(this);
    
} ,
  listeners: [],
  chartDefinition:  {
    dataAccessId: "barLineQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda",
    width: 450,
    height: 350,
    extensionPoints: [],
    colors: ["#8FCEDD","#B2CC99","#FFFFB2","#E5BFBF","#F47D21"],
    animate: false,
    barOrthoSizeMin: 1.5,
    barSizeMax: 30,
    barSizeRatio: 0.9,
    barStackedMargin: 0,
    baseAxisGrid: false,
    baseAxisOffset: 0,
    baseAxisOverlappedLabelsMode: "hide",
    baseAxisTicks: true,
    baseAxisTitleFont: "12px sans-serif",
    baseAxisTitleMargins: "0",
    baseAxisTooltipAutoContent: "value",
    baseAxisTooltipEnabled: true,
    baseAxisVisible: false,
    clearSelectionMode: "emptySpaceClick",
    clickable: true,
    clickAction: function f(e){
    var strhem = e.atoms.series.value;
    if(strhem == "ClassAveragePulseScore") 
        $("#chartPopUpObj").text("This percentage provides the class's average probability of passing the NCLEX\xAE based on each student's  first attempt in each content area covered to date.");
    else if(strhem == "ClassAverageProctoredTestScore")
        $("#chartPopUpObj").text("This value represents the average class score from each student's first attempt of the proctored test taken in this content area.");
    else if((strhem == "Red") || (strhem == "Green")){
        if (roleParam === "Instructor")
            $("#chartPopUpObj").text("This percentage provides the class's average probability of passing the NCLEX\xAE based on each student's  first attempt in each content area covered to date.");
        else
            $("#chartPopUpObj").text("At least one student has completed the ATI Comprehensive Predictor and this is the associated average probability of passing NCLEX amongst all students who completed the ATI Comprehensive Predictor. Pulse stops providing predictions once the ATI Comprehensive Predictor is administered.");
    }
    
//  render_barPopupComponent.popup($("#predictTitleRow"));
    render_barPopupComponent.popup($("#barLineContainerRow"));
} ,
    color2AxisColors: [],
    color2AxisLegendClickMode: "toggleVisible",
    color2AxisLegendVisible: true,
    compatVersion: 2,
    contentMargins: "0",
    contentPaddings: "0",
    crosstabMode: true,
    ctrlSelectMode: true,
    dataIgnoreMetadataLabels: false,
    dataMeasuresInColumns: true,
    dataSeparator: "~",
    groupedLabelSep: " ~ ",
    hoverable: false,
    ignoreNulls: true,
    isMultiValued: false,
    leafContentOverflow: "visible",
    legend: false,
    legendClickMode: "toggleVisible",
    legendFont: "10px sans-serif",
    legendItemPadding: "2.5",
    legendMargins: "0",
    legendMarkerSize: 15,
    legendPaddings: "5",
    legendPosition: "bottom",
    legendTextMargin: 6,
    legendVisible: true,
    margins: "15 0 0 0",
    measuresIndexes: [],
    multiChartColumnsMax: 3,
    multiChartIndexes: [],
    multiChartOverflow: "grow",
    multiChartSingleColFillsHeight: true,
    multiChartSingleRowFillsHeight: true,
    nullInterpolationMode: "none",
    orientation: "vertical",
    ortho2AxisDomainRoundMode: "tick",
    ortho2AxisDomainScope: "global",
    ortho2AxisGrid: false,
    ortho2AxisMinorTicks: true,
    ortho2AxisOffset: 0,
    ortho2AxisOriginIsZero: false,
    ortho2AxisOverlappedLabelsMode: "hide",
    ortho2AxisTicks: true,
    ortho2AxisTickUnitMax: "Infinity",
    ortho2AxisTickUnitMin: "0",
    ortho2AxisTitleFont: "12px sans-serif",
    ortho2AxisTitleMargins: "0",
    ortho2AxisVisible: false,
    ortho2AxisZeroLine: false,
    orthoAxisDesiredTickCount: 6,
    orthoAxisDomainRoundMode: "tick",
    orthoAxisDomainScope: "global",
    orthoAxisGrid: true,
    orthoAxisMinorTicks: false,
    orthoAxisOffset: 0,
    orthoAxisOriginIsZero: false,
    orthoAxisOverlappedLabelsMode: "hide",
    orthoAxisSize: "50",
    orthoAxisTickFormatter: function f(v){
    /*
    if ( v + zeroParam < 101 ){
        return v + Dashboards.getParameterValue('zeroParam') + "%";
    }else{
        return " ";
    }
    */
    if ( v < 101 ){
        return v + "%";
    }else{
        return " ";
    }
} ,
    orthoAxisTicks: false,
    orthoAxisTickUnitMax: "Infinity",
    orthoAxisTickUnitMin: "0",
    orthoAxisTitleFont: "12px sans-serif",
    orthoAxisTitleMargins: "0",
    orthoAxisVisible: true,
    orthoAxisZeroLine: true,
    overflowMarkersVisible: false,
    paddings: "0",
    panelSizeRatio: 1,
    plot2: true,
    plot2AreasVisible: false,
    plot2ColorAxis: 2,
    plot2DotsVisible: true,
    plot2LinesVisible: true,
    plot2NullInterpolationMode: "none",
    plot2OrthoAxis: 1,
    plot2Series: ["ClassAveragePulseScore"],
    plot2SeriesIndexes: -1,
    plot2Stacked: false,
    plot2ValuesAnchor: "center",
    plot2ValuesFont: "12px sans-serif",
    plot2ValuesMask: "{value}%",
    plot2ValuesVisible: true,
    plotFrameVisible: false,
    pointingMode: "near",
    readers: [],
    selectable: false,
    seriesInRows: false,
    smallContentMargins: "0",
    smallContentPaddings: "0",
    smallMargins: "2%",
    smallPaddings: "0",
    smallTitleFont: "14px sans-serif",
    smallTitleMargins: "0",
    smallTitlePaddings: "0",
    smallTitlePosition: "top",
    stacked: true,
    timeSeries: false,
    timeSeriesFormat: "%Y-%m-%d",
    titleFont: "14px sans-serif",
    titleMargins: "0",
    titlePaddings: "0",
    titlePosition: "top",
    tooltipEnabled: false,
    tooltipFade: true,
    tooltipFollowMouse: false,
    tooltipFormat: function f(scene){
    var fix  = def.html.escape;
    var vars = scene.vars;
    
    if (vars.category.label !== "Average Probability of Passing NCLEX" && vars.series.label !== "Average Probability of Passing NCLEX"){
        return "<div style='text-align:left'>" + 
            "<b>Series</b>: "  + fix(vars.series.label)   + "<br/>" + 
            "<b>Test</b>: "   + fix(vars.category.label) + "<br/>" + 
            "<b>Value</b>: " + fix(vars.value.label) + "%"    + 
       "</div>";
    }
} ,
    tooltipHtml: true,
    tooltipOpacity: 0.9,
    trendAreasVisible: false,
    trendColorAxis: 2,
    trendDotsVisible: false,
    trendLinesVisible: true,
    trendOrthoAxis: 1,
    trendStacked: false,
    trendValuesAnchor: "right",
    trendValuesFont: "10px sans-serif",
    trendValuesVisible: false,
    valueFormat: function f(v){
    return v; //+ Dashboards.getParameterValue('zeroParam');
} ,
    valuesAnchor: "top",
    valuesFont: "10px sans-serif",
    valuesMask: "{value}%",
    valuesNormalized: false,
    valuesOverflow: "hide",
    valuesVisible: true
  }
};

var render_completeBarLineChart = {
  type: "cccBarChart",
  name: "render_completeBarLineChart",
  priority: 5,
  parameters: [["institutionIDParam","institutionIDParam"],["classIDParam","classIDParam"]],
  executeAtStart: false,
  postFetch: function f(data){
    
    var result = data.resultset;
    var length = result.length;
    var nat_avg = [], prog_avg = [];
    
    for ( var i = 0; i < length; i++ ) {
        var avgs = result[i].splice(3, 2);
        prog_avg[i] = avgs[1] + zeroParam;
        nat_avg[i]  = avgs[0] + zeroParam;
    }
    
    i = i - 1;
    result[i][3] = result[i][3] - result[i][4];
    result[i][4] = result[i][4] - result[i][5];
    
    var metadata = data.metadata;
    metadata.splice(3, 2);
    
    for ( i = 0; i < length; i++ ){
        for ( var j = 1; j < result[i].length; j++ ){
            if ( result[i][j] !== null && j < 3){
                result[i][j] = Math.round(result[i][j]); //- Dashboards.getParameterValue('zeroParam'));
            }else{
                if ( result[i][j] !== null && result[i][j] > Dashboards.getParameterValue('zeroParam') - 1 ){
                    result[i][j] = Math.round(result[i][j]); // - Dashboards.getParameterValue('zeroParam'));
                }
            }
        }
    }
    
    return data;
} ,
  htmlObject: "completeBarLineChartColumnObj",
  preExecution: function f(){
    pvc.PercentValue.parse.apply(); //apply patch to bug CDF-354
    this.chartDefinition.orthoAxisFixedMin = zeroParam;
    ascend.defaultExtPoints.apply(this);
    ascend.predictorExtPoints.apply(this);
    ascend.completeExtPoints.apply(this);
    ascend.avgsBar.apply(this);
    //ascend.errorLine.apply(this);
    ascend.hideValues.apply(this);
    ascend.finalBar.apply(this);
} ,
  listeners: [],
  chartDefinition:  {
    dataAccessId: "barLineQuery",
    path: "/public/ascend/dashboards/faculty_class_details.cda",
    width: 450,
    height: 350,
    extensionPoints: [],
    colors: ["#8FCEDD","#B2CC99","#FFFFB2","#E5BFBF","#F47D21"],
    animate: false,
    barOrthoSizeMin: 1.5,
    barSizeMax: 30,
    barSizeRatio: 0.9,
    barStackedMargin: 0,
    baseAxisGrid: false,
    baseAxisOffset: 0,
    baseAxisOverlappedLabelsMode: "hide",
    baseAxisTicks: true,
    baseAxisTitleFont: "12px sans-serif",
    baseAxisTitleMargins: "0",
    baseAxisTooltipAutoContent: "value",
    baseAxisTooltipEnabled: true,
    baseAxisVisible: false,
    clearSelectionMode: "emptySpaceClick",
    clickable: true,
    clickAction: function f(e){
    var strhem = e.atoms.series.value;
    if(strhem == "ClassAveragePulseScore") 
        $("#chartPopUpObj").text("This percentage provides the class's average probability of passing the NCLEX\xAE based on each student's  first attempt in each content area covered to date.");
    else if(strhem == "ClassAverageProctoredTestScore")
        $("#chartPopUpObj").text("This value represents the average class score from each student's first attempt of the proctored test taken in this content area.");
    else if((strhem == "Red") || (strhem == "Green")){
        if (roleParam === "Instructor")
            $("#chartPopUpObj").text("This percentage provides the class's average probability of passing the NCLEX\xAE based on each student's  first attempt in each content area covered to date.");
        else
            $("#chartPopUpObj").text("At least one student has completed the ATI Comprehensive Predictor and this is the associated average probability of passing NCLEX amongst all students who completed the ATI Comprehensive Predictor. Pulse stops providing predictions once the ATI Comprehensive Predictor is administered.");
    }
//  render_barPopupComponent.popup($("#predictTitleRow"));
    render_barPopupComponent.popup($("#barLineContainerRow"));
} ,
    color2AxisColors: [],
    color2AxisLegendClickMode: "toggleVisible",
    color2AxisLegendVisible: true,
    compatVersion: 2,
    contentMargins: "0",
    contentPaddings: "0",
    crosstabMode: true,
    ctrlSelectMode: true,
    dataIgnoreMetadataLabels: false,
    dataMeasuresInColumns: true,
    dataSeparator: "~",
    groupedLabelSep: " ~ ",
    hoverable: false,
    ignoreNulls: true,
    isMultiValued: false,
    leafContentOverflow: "visible",
    legend: false,
    legendClickMode: "toggleVisible",
    legendFont: "10px sans-serif",
    legendItemPadding: "2.5",
    legendMargins: "0",
    legendMarkerSize: 15,
    legendPaddings: "5",
    legendPosition: "bottom",
    legendTextMargin: 6,
    legendVisible: true,
    margins: "15 0 0 0",
    measuresIndexes: [],
    multiChartColumnsMax: 3,
    multiChartIndexes: [],
    multiChartOverflow: "grow",
    multiChartSingleColFillsHeight: true,
    multiChartSingleRowFillsHeight: true,
    nullInterpolationMode: "none",
    orientation: "vertical",
    ortho2AxisDomainRoundMode: "tick",
    ortho2AxisDomainScope: "global",
    ortho2AxisGrid: false,
    ortho2AxisMinorTicks: true,
    ortho2AxisOffset: 0,
    ortho2AxisOriginIsZero: false,
    ortho2AxisOverlappedLabelsMode: "hide",
    ortho2AxisTicks: true,
    ortho2AxisTickUnitMax: "Infinity",
    ortho2AxisTickUnitMin: "0",
    ortho2AxisTitleFont: "12px sans-serif",
    ortho2AxisTitleMargins: "0",
    ortho2AxisVisible: false,
    ortho2AxisZeroLine: false,
    orthoAxisDesiredTickCount: 6,
    orthoAxisDomainRoundMode: "tick",
    orthoAxisDomainScope: "global",
    orthoAxisGrid: true,
    orthoAxisMinorTicks: false,
    orthoAxisOffset: 0,
    orthoAxisOriginIsZero: false,
    orthoAxisOverlappedLabelsMode: "hide",
    orthoAxisSize: "50",
    orthoAxisTickFormatter: function f(v){
    /*
    if ( v + zeroParam < 101 ){
        return v + Dashboards.getParameterValue('zeroParam') + "%";
    }else{
        return " ";
    }
    */
    if ( v < 101 ){
        return v + "%";
    }else{
        return " ";
    }
} ,
    orthoAxisTicks: false,
    orthoAxisTickUnitMax: "Infinity",
    orthoAxisTickUnitMin: "0",
    orthoAxisTitleFont: "12px sans-serif",
    orthoAxisTitleMargins: "0",
    orthoAxisVisible: true,
    orthoAxisZeroLine: true,
    overflowMarkersVisible: false,
    paddings: "0",
    panelSizeRatio: 1,
    plot2: true,
    plot2AreasVisible: false,
    plot2ColorAxis: 2,
    plot2DotsVisible: true,
    plot2LinesVisible: true,
    plot2NullInterpolationMode: "none",
    plot2OrthoAxis: 1,
    plot2Series: ["ClassAveragePulseScore"],
    plot2SeriesIndexes: -1,
    plot2Stacked: false,
    plot2ValuesAnchor: "center",
    plot2ValuesFont: "12px sans-serif",
    plot2ValuesMask: "{value}%",
    plot2ValuesVisible: true,
    plotFrameVisible: false,
    pointingMode: "near",
    readers: [],
    selectable: false,
    seriesInRows: false,
    smallContentMargins: "0",
    smallContentPaddings: "0",
    smallMargins: "2%",
    smallPaddings: "0",
    smallTitleFont: "14px sans-serif",
    smallTitleMargins: "0",
    smallTitlePaddings: "0",
    smallTitlePosition: "top",
    stacked: true,
    timeSeries: false,
    timeSeriesFormat: "%Y-%m-%d",
    titleFont: "14px sans-serif",
    titleMargins: "0",
    titlePaddings: "0",
    titlePosition: "top",
    tooltipEnabled: false,
    tooltipFade: true,
    tooltipFollowMouse: false,
    tooltipFormat: function f(scene){
    var fix  = def.html.escape;
    var vars = scene.vars;
    
    if (vars.category.label !== "Comprehensive Predictor" && vars.series.label !== "My Likelihood of Passing NCLEX"){
        return "<div style='text-align:left'>" + 
            "<b>Series</b>: "  + fix(vars.series.label)   + "<br/>" + 
            "<b>Test</b>: "   + fix(vars.category.label) + "<br/>" + 
            "<b>Value</b>: " + fix(vars.value.label) + "%"    + 
       "</div>";
    }
} ,
    tooltipHtml: true,
    tooltipOpacity: 0.9,
    trendAreasVisible: false,
    trendColorAxis: 2,
    trendDotsVisible: false,
    trendLinesVisible: true,
    trendOrthoAxis: 1,
    trendStacked: false,
    trendValuesAnchor: "right",
    trendValuesFont: "10px sans-serif",
    trendValuesVisible: false,
    valueFormat: function f(v){
    return v; //+ Dashboards.getParameterValue('zeroParam');
} ,
    valuesAnchor: "top",
    valuesFont: "10px sans-serif",
    valuesMask: "{value}%",
    valuesNormalized: false,
    valuesOverflow: "hide",
    valuesVisible: true
  }
};

Dashboards.addComponents([render_dateRange_dummy, render_classSelector, render_detailsSelector, render_feedbackText, render_nameSessionVarQueryComponent, render_studentNameQueryComponent, render_nameRoleHeader, render_feedbackPopupButton, render_feedbackPopup, render_saveButtonComponent, render_emptyFeedbackPopup, render_sendOkPopup, render_sendNotOkPopup, render_printButton, render_averageTitleQueryComponent, render_averageTitle, render_titlePopupButton, render_titlePopup, render_barLineTitleTextComponent, render_barLineLegendFreeform, render_errorLineQueryComponent, render_totalScoresQueryComponent, render_customLegendFreeformComponent, render_nationalPassRateButton, render_nationalPassRatePopup, render_institutionPassRateButton, render_institutionPassRatePopup, render_barLineDetailsButton, render_barLineDetailsPopup, render_usageButton, render_proctoredTable, render_studentTable, render_termsButton, render_termsPopup, render_termsText, render_barPopupComponent, render_predictBarLineChart, render_completeBarLineChart]);

</script>

<script language="javascript" type="text/javascript">
Dashboards.init();
</script>

		
				<script type="text/javascript">
		$( function(){
				//$(".round").corner();
				$(".cdfdd-round").corner();
				$(".cdfdd-bevel").corner("bevel");
				$(".cdfdd-notch").corner("notch");
				$(".cdfdd-bite").corner("bite");
				$(".cdfdd-bevel_top").corner("bevel top");
				$(".cdfdd-dog_tr").corner("dog tr");
			} ) ;
		</script>
		

	</body>
</html>


